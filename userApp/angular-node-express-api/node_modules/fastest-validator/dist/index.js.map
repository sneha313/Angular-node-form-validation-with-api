{"version":3,"file":"index.js","sources":["../lib/helpers/deep-extend.js","../lib/messages.js","../lib/rules/any.js","../lib/rules/array.js","../lib/rules/boolean.js","../lib/rules/class.js","../lib/rules/custom.js","../lib/rules/date.js","../lib/rules/email.js","../lib/rules/enum.js","../lib/rules/equal.js","../lib/rules/forbidden.js","../lib/rules/function.js","../lib/rules/multi.js","../lib/rules/number.js","../lib/rules/object.js","../lib/rules/string.js","../lib/rules/url.js","../lib/rules/uuid.js","../lib/rules/mac.js","../lib/rules/luhn.js","../lib/helpers/prettier.js","../lib/validator.js","../index.js"],"sourcesContent":["\"use strict\";\n\nfunction isObjectHasKeys(v) {\n\tif (typeof v !== \"object\" || Array.isArray(v) || v == null) return false;\n\treturn Object.keys(v).length > 0;\n}\n\nfunction deepExtend(destination, source, options = {}) {\n\tfor (let property in source) {\n\t\tif (isObjectHasKeys(source[property])) {\n\t\t\tdestination[property] = destination[property] || {};\n\t\t\tdeepExtend(destination[property], source[property], options);\n\t\t} else {\n\t\t\tif (options.skipIfExist === true && destination[property] !== undefined) continue;\n\t\t\tdestination[property] = source[property];\n\t\t}\n\t}\n\treturn destination;\n}\n\nmodule.exports = deepExtend;\n","\"use strict\";\n\nmodule.exports = {\n\trequired: \"The '{field}' field is required.\",\n\n\tstring: \"The '{field}' field must be a string.\",\n\tstringEmpty: \"The '{field}' field must not be empty.\",\n\tstringMin: \"The '{field}' field length must be greater than or equal to {expected} characters long.\",\n\tstringMax: \"The '{field}' field length must be less than or equal to {expected} characters long.\",\n\tstringLength: \"The '{field}' field length must be {expected} characters long.\",\n\tstringPattern: \"The '{field}' field fails to match the required pattern.\",\n\tstringContains: \"The '{field}' field must contain the '{expected}' text.\",\n\tstringEnum: \"The '{field}' field does not match any of the allowed values.\",\n\tstringNumeric: \"The '{field}' field must be a numeric string.\",\n\tstringAlpha: \"The '{field}' field must be an alphabetic string.\",\n\tstringAlphanum: \"The '{field}' field must be an alphanumeric string.\",\n\tstringAlphadash: \"The '{field}' field must be an alphadash string.\",\n\tstringHex: \"The '{field}' field must be a hex string.\",\n\n\tnumber: \"The '{field}' field must be a number.\",\n\tnumberMin: \"The '{field}' field must be greater than or equal to {expected}.\",\n\tnumberMax: \"The '{field}' field must be less than or equal to {expected}.\",\n\tnumberEqual: \"The '{field}' field must be equal to {expected}.\",\n\tnumberNotEqual: \"The '{field}' field can't be equal to {expected}.\",\n\tnumberInteger: \"The '{field}' field must be an integer.\",\n\tnumberPositive: \"The '{field}' field must be a positive number.\",\n\tnumberNegative: \"The '{field}' field must be a negative number.\",\n\n\tarray: \"The '{field}' field must be an array.\",\n\tarrayEmpty: \"The '{field}' field must not be an empty array.\",\n\tarrayMin: \"The '{field}' field must contain at least {expected} items.\",\n\tarrayMax: \"The '{field}' field must contain less than or equal to {expected} items.\",\n\tarrayLength: \"The '{field}' field must contain {expected} items.\",\n\tarrayContains: \"The '{field}' field must contain the '{expected}' item.\",\n\tarrayUnique: \"The '{actual}' value in '{field}' field does not unique the '{expected}' values.\",\n\tarrayEnum: \"The '{actual}' value in '{field}' field does not match any of the '{expected}' values.\",\n\n\tboolean: \"The '{field}' field must be a boolean.\",\n\n\tdate: \"The '{field}' field must be a Date.\",\n\tdateMin: \"The '{field}' field must be greater than or equal to {expected}.\",\n\tdateMax: \"The '{field}' field must be less than or equal to {expected}.\",\n\n\tenumValue: \"The '{field}' field value '{expected}' does not match any of the allowed values.\",\n\n\tequalValue: \"The '{field}' field value must be equal to '{expected}'.\",\n\tequalField: \"The '{field}' field value must be equal to '{expected}' field value.\",\n\n\tforbidden: \"The '{field}' field is forbidden.\",\n\n\tfunction: \"The '{field}' field must be a function.\",\n\n\temail: \"The '{field}' field must be a valid e-mail.\",\n\n\tluhn: \"The '{field}' field must be a valid checksum luhn.\",\n\n\tmac: \"The '{field}' field must be a valid MAC address.\",\n\n\tobject: \"The '{field}' must be an Object.\",\n\tobjectStrict: \"The object '{field}' contains forbidden keys: '{actual}'.\",\n\n\turl: \"The '{field}' field must be a valid URL.\",\n\n\tuuid: \"The '{field}' field must be a valid UUID.\",\n\tuuidVersion: \"The '{field}' field must be a valid UUID version provided.\",\n\n\tclassInstanceOf: \"The '{field}' field must be an instance of the '{expected}' class.\"\n};\n","\"use strict\";\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function(/*{ schema, messages }, path, context*/) {\n\treturn {};\n};\n","\"use strict\";\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages, customValidation }, path, context) {\n\tconst src = [];\n\n\tsrc.push(`\n\t\tif (!Array.isArray(value)) {\n\t\t\t${this.makeError({ type: \"array\", actual: \"value\", messages })}\n\t\t\treturn value;\n\t\t}\n\n\t\tvar len = value.length;\n\t`);\n\n\tif (schema.empty === false) {\n\t\tsrc.push(`\n\t\t\tif (len === 0) {\n\t\t\t\t${this.makeError({ type: \"arrayEmpty\", actual: \"value\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif (schema.min != null) {\n\t\tsrc.push(`\n\t\t\tif (len < ${schema.min}) {\n\t\t\t\t${this.makeError({ type: \"arrayMin\", expected: schema.min, actual: \"len\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif (schema.max != null) {\n\t\tsrc.push(`\n\t\t\tif (len > ${schema.max}) {\n\t\t\t\t${this.makeError({ type: \"arrayMax\", expected: schema.max, actual: \"len\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif (schema.length != null) {\n\t\tsrc.push(`\n\t\t\tif (len !== ${schema.length}) {\n\t\t\t\t${this.makeError({ type: \"arrayLength\", expected: schema.length, actual: \"len\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif (schema.contains != null) {\n\t\tsrc.push(`\n\t\t\tif (value.indexOf(${JSON.stringify(schema.contains)}) === -1) {\n\t\t\t\t${this.makeError({ type: \"arrayContains\", expected: JSON.stringify(schema.contains), actual: \"value\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif (schema.unique === true) {\n\t\tsrc.push(`\n\t\t\tif(len > (new Set(value)).size) {\n\t\t\t\t${this.makeError({ type: \"arrayUnique\", expected: \"Array.from(new Set(value.filter((item, index) => value.indexOf(item) !== index)))\", actual: \"value\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif (schema.enum != null) {\n\t\tconst enumStr = JSON.stringify(schema.enum);\n\t\tsrc.push(`\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tif (${enumStr}.indexOf(value[i]) === -1) {\n\t\t\t\t\t${this.makeError({ type: \"arrayEnum\", expected: \"\\\"\" + schema.enum.join(\", \") + \"\\\"\", actual: \"value[i]\", messages })}\n\t\t\t\t}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif (schema.items != null) {\n\n\t\tsrc.push(`\n\t\t\tvar arr = value;\n\t\t\tvar parentField = field;\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t`);\n\n\t\tconst rule = this.getRuleFromSchema(schema.items);\n\t\tsrc.push(this.compileRule(rule, context, path, \"arr[i] = context.fn[%%INDEX%%](arr[i], (parentField ? parentField : \\\"\\\") + \\\"[\\\" + i + \\\"]\\\", parent, errors, context);\", \"arr[i]\"));\n\t\t/*\n\t\tconst res = rule.ruleFunction.call(this, rule, path, context);\n\t\tcontext.rules[context.index] = rule;\n\t\tif (res.source) {\n\t\t\tconst fn = new Function(\"value\", \"field\", \"parent\", \"errors\", \"context\", res.source);\n\t\t\tcontext.fn[context.index] = fn;\n\t\t\tsrc.push(`arr[i] = context.fn[${context.index}](arr[i], (parentField ? parentField : \"\") + \"[\" + i + \"]\", parent, errors, context);`);\n\t\t}\n\t\tcontext.index++;\n\t\t*/\n\t\tsrc.push(`\n\t\t\t}\n\t\t`);\n\t}\n\n\tsrc.push(`\n\t\t${customValidation(\"value\")}\n\t\treturn value;\n\t`);\n\n\treturn {\n\t\tsource: src.join(\"\\n\")\n\t};\n};\n","\"use strict\";\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages, customValidation }, path) {\n\tconst src = [];\n\tlet sanitized = false;\n\n\tsrc.push(`\n\t\tvar origValue = value;\n\t`);\n\n\tif (schema.convert === true) {\n\t\tsanitized = true;\n\t\tsrc.push(`\n\t\t\tif (typeof value !== \"boolean\") {\n\t\t\t\tif (\n\t\t\t\tvalue === 1\n\t\t\t\t|| value === \"true\"\n\t\t\t\t|| value === \"1\"\n\t\t\t\t|| value === \"on\"\n\t\t\t\t) {\n\t\t\t\t\tvalue = true;\n\t\t\t\t} else if (\n\t\t\t\tvalue === 0\n\t\t\t\t|| value === \"false\"\n\t\t\t\t|| value === \"0\"\n\t\t\t\t|| value === \"off\"\n\t\t\t\t) {\n\t\t\t\t\tvalue = false;\n\t\t\t\t}\n\t\t\t}\n\t\t`);\n\t}\n\n\tsrc.push(`\n\t\tif (typeof value !== \"boolean\")\n\t\t\t${this.makeError({ type: \"boolean\",  actual: \"origValue\", messages })}\n\n\t\t${customValidation(\"value\")}\n\n\t\treturn value;\n\t`);\n\n\treturn {\n\t\tsanitized,\n\t\tsource: src.join(\"\\n\")\n\t};\n};\n","\"use strict\";\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages, customValidation }, path, context) {\n\tconst src = [];\n\n\tif (context.customs[path]) {\n\t\tcontext.customs[path].instanceOf = schema.instanceOf;\n\t} else {\n\t\tcontext.customs[path] = { instanceOf: schema.instanceOf };\n\t}\n\n\tconst className = schema.instanceOf.name ? schema.instanceOf.name : \"<UnknowClass>\";\n\n\tsrc.push(`\n\t\tif (!(value instanceof context.customs[\"${path}\"].instanceOf))\n\t\t\t${this.makeError({ type: \"classInstanceOf\",  actual: \"value\", expected: \"'\" + className + \"'\", messages })}\n\t`);\n\n\tsrc.push(`\n\t\t${customValidation(\"value\")}\n\t\treturn value;\n\t`);\n\n\treturn {\n\t\tsource: src.join(\"\\n\")\n\t};\n};\n","\"use strict\";\n\nmodule.exports = function({ schema, messages }, path, context) {\n\tconst src = [];\n\n\tif (typeof schema.check == \"function\") {\n\t\tcontext.customs[path] = { schema, messages };\n\n\t\tsrc.push(`\n\t\t\tconst rule = context.customs[\"${path}\"];\n\t\t\tconst res = rule.schema.check.call(this, value, rule.schema, \"${path}\", parent, context);\n\t\t\tif (Array.isArray(res)) {\n\t\t\t\tres.forEach(err => errors.push(Object.assign({ message: rule.messages[err.type], field }, err)));\n\t\t\t}\n\n\t\t\treturn value;\n\t\t`);\n\t}\n\n\treturn {\n\t\tsource: src.join(\"\\n\")\n\t};\n};\n","\"use strict\";\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages, customValidation }, path) {\n\tconst src = [];\n\tlet sanitized = false;\n\n\tsrc.push(`\n\t\tvar origValue = value;\n\t`);\n\n\tif (schema.convert === true) {\n\t\tsanitized = true;\n\t\tsrc.push(`\n\t\t\tif (!(value instanceof Date)) {\n\t\t\t\tvalue = new Date(value);\n\t\t\t}\n\t\t`);\n\t}\n\n\tsrc.push(`\n\t\tif (!(value instanceof Date) || isNaN(value.getTime()))\n\t\t\t${this.makeError({ type: \"date\",  actual: \"origValue\", messages })}\n\n\t\t${customValidation(\"value\")}\n\n\t\treturn value;\n\t`);\n\n\treturn {\n\t\tsanitized,\n\t\tsource: src.join(\"\\n\")\n\t};\n};\n","\"use strict\";\n\nconst PRECISE_PATTERN = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst BASIC_PATTERN = /^\\S+@\\S+\\.\\S+$/;\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages, customValidation }, path) {\n\tconst src = [];\n\n\tconst pattern = schema.mode == \"precise\" ? PRECISE_PATTERN : BASIC_PATTERN;\n\tlet sanitized = false;\n\n\tsrc.push(`\n\t\tif (typeof value !== \"string\") {\n\t\t\t${this.makeError({ type: \"string\",  actual: \"value\", messages })}\n\t\t\treturn value;\n\t\t}\n\t`);\n\n\tif (schema.normalize) {\n\t\tsanitized = true;\n\t\tsrc.push(`\n\t\t\tvalue = value.trim().toLowerCase();\n\t\t`);\n\t}\n\n\tsrc.push(`\n\t\tif (!${pattern.toString()}.test(value))\n\t\t\t${this.makeError({ type: \"email\",  actual: \"value\", messages })}\n\n\t\t${customValidation(\"value\")}\n\n\t\treturn value;\n\t`);\n\n\treturn {\n\t\tsanitized,\n\t\tsource: src.join(\"\\n\")\n\t};\n};\n","\"use strict\";\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages, customValidation }, path) {\n\tconst enumStr = JSON.stringify(schema.values || []);\n\treturn {\n\t\tsource: `\n\t\t\tif (${enumStr}.indexOf(value) === -1)\n\t\t\t\t${this.makeError({ type: \"enumValue\", expected: \"\\\"\" + schema.values.join(\", \") + \"\\\"\", actual: \"value\", messages })}\n\t\t\t\n\t\t\t${customValidation(\"value\")}\n\n\t\t\treturn value;\n\t\t`\n\t};\n};\n","\"use strict\";\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages, customValidation }, path) {\n\tconst src = [];\n\n\tif (schema.field) {\n\t\tif (schema.strict) {\n\t\t\tsrc.push(`\n\t\t\t\tif (value !== parent[\"${schema.field}\"])\n\t\t\t`);\n\t\t} else {\n\t\t\tsrc.push(`\n\t\t\t\tif (value != parent[\"${schema.field}\"])\n\t\t\t`);\n\t\t}\n\t\tsrc.push(`\n\t\t\t\t${this.makeError({ type: \"equalField\",  actual: \"value\", expected: JSON.stringify(schema.field), messages })}\n\t\t`);\n\t} else {\n\t\tif (schema.strict) {\n\t\t\tsrc.push(`\n\t\t\t\tif (value !== ${JSON.stringify(schema.value)})\n\t\t\t`);\n\t\t} else {\n\t\t\tsrc.push(`\n\t\t\t\tif (value != ${JSON.stringify(schema.value)})\n\t\t\t`);\n\t\t}\n\t\tsrc.push(`\n\t\t\t\t${this.makeError({ type: \"equalValue\",  actual: \"value\", expected: JSON.stringify(schema.value), messages })}\n\t\t`);\n\t}\n\n\tsrc.push(`\n\t\t${customValidation(\"value\")}\n\t\treturn value;\n\t`);\n\n\treturn {\n\t\tsource: src.join(\"\\n\")\n\t};\n};\n","\"use strict\";\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function checkForbidden({ schema, messages, customValidation }, path) {\n\tconst src = [];\n\n\tsrc.push(`\n\t\tif (value !== null && value !== undefined) {\n\t`);\n\n\tif (schema.remove) {\n\t\tsrc.push(`\n\t\t\treturn undefined;\n\t\t`);\n\n\t} else {\n\t\tsrc.push(`\n\t\t\t${this.makeError({ type: \"forbidden\",  actual: \"value\", messages })}\n\t\t`);\n\t}\n\n\tsrc.push(`\n\t\t}\n\n\t\t${customValidation(\"value\")}\n\n\t\treturn value;\n\t`);\n\n\treturn {\n\t\tsource: src.join(\"\\n\")\n\t};\n};\n","\"use strict\";\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages, customValidation }, path) {\n\treturn {\n\t\tsource: `\n\t\t\tif (typeof value !== \"function\")\n\t\t\t\t${this.makeError({ type: \"function\",  actual: \"value\", messages })}\n\n\t\t\t${customValidation(\"value\")}\n\n\t\t\treturn value;\n\t\t`\n\t};\n};\n","\"use strict\";\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages, customValidation }, path, context) {\n\tconst src = [];\n\n\tsrc.push(`\n\t\tvar prevErrLen = errors.length;\n\t\tvar errBefore;\n\t\tvar hasValid = false;\n\t\tvar newVal = value;\n\t`);\n\n\tfor (let i = 0; i < schema.rules.length; i++) {\n\t\tsrc.push(`\n\t\t\tif (!hasValid) {\n\t\t\t\terrBefore = errors.length;\n\t\t`);\n\n\t\tconst rule = this.getRuleFromSchema(schema.rules[i]);\n\t\tsrc.push(this.compileRule(rule, context, path, \"var tmpVal = context.fn[%%INDEX%%](value, field, parent, errors, context);\", \"tmpVal\"));\n\t\tsrc.push(`\n\t\t\t\tif (errors.length == errBefore) {\n\t\t\t\t\thasValid = true;\n\t\t\t\t\tnewVal = tmpVal;\n\t\t\t\t}\n\t\t\t}\n\t\t`);\n\t}\n\n\tsrc.push(`\n\t\tif (hasValid) {\n\t\t\terrors.length = prevErrLen;\n\t\t}\n\t\t${customValidation(\"newVal\")}\n\t\treturn newVal;\n\t`);\n\n\treturn {\n\t\tsource: src.join(\"\\n\")\n\t};\n};\n","\"use strict\";\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages, customValidation }, path) {\n\tconst src = [];\n\n\tsrc.push(`\n\t\tvar origValue = value;\n\t`);\n\n\tlet sanitized = false;\n\tif (schema.convert === true) {\n\t\tsanitized = true;\n\t\tsrc.push(`\n\t\t\tif (typeof value !== \"number\") {\n\t\t\t\tvalue = Number(value);\n\t\t\t}\n\t\t`);\n\t}\n\n\tsrc.push(`\n\t\tif (typeof value !== \"number\" || isNaN(value) || !isFinite(value)) {\n\t\t\t${this.makeError({ type: \"number\",  actual: \"origValue\", messages })}\n\t\t\treturn value;\n\t\t}\n\t`);\n\n\tif (schema.min != null) {\n\t\tsrc.push(`\n\t\t\tif (value < ${schema.min}) {\n\t\t\t\t${this.makeError({ type: \"numberMin\", expected: schema.min, actual: \"origValue\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif (schema.max != null) {\n\t\tsrc.push(`\n\t\t\tif (value > ${schema.max}) {\n\t\t\t\t${this.makeError({ type: \"numberMax\", expected: schema.max, actual: \"origValue\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\t// Check fix value\n\tif (schema.equal != null) {\n\t\tsrc.push(`\n\t\t\tif (value !== ${schema.equal}) {\n\t\t\t\t${this.makeError({ type: \"numberEqual\", expected: schema.equal, actual: \"origValue\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\t// Check not fix value\n\tif (schema.notEqual != null) {\n\t\tsrc.push(`\n\t\t\tif (value === ${schema.notEqual}) {\n\t\t\t\t${this.makeError({ type: \"numberNotEqual\", expected: schema.notEqual, actual: \"origValue\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\t// Check integer\n\tif (schema.integer === true) {\n\t\tsrc.push(`\n\t\t\tif (value % 1 !== 0) {\n\t\t\t\t${this.makeError({ type: \"numberInteger\",  actual: \"origValue\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\t// Check positive\n\tif (schema.positive === true) {\n\t\tsrc.push(`\n\t\t\tif (value <= 0) {\n\t\t\t\t${this.makeError({ type: \"numberPositive\",  actual: \"origValue\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\t// Check negative\n\tif (schema.negative === true) {\n\t\tsrc.push(`\n\t\t\tif (value >= 0) {\n\t\t\t\t${this.makeError({ type: \"numberNegative\",  actual: \"origValue\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tsrc.push(`\n\t\t${customValidation(\"value\")}\n\t\treturn value;\n\t`);\n\n\treturn {\n\t\tsanitized,\n\t\tsource: src.join(\"\\n\")\n\t};\n};\n","\"use strict\";\n\n// Quick regex to match most common unquoted JavaScript property names. Note the spec allows Unicode letters.\n// Unmatched property names will be quoted and validate slighly slower. https://www.ecma-international.org/ecma-262/5.1/#sec-7.6\nconst identifierRegex = /^[_$a-zA-Z][_$a-zA-Z0-9]*$/;\n\n// Regex to escape quoted property names for eval/new Function\nconst escapeEvalRegex = /[\"'\\\\\\n\\r\\u2028\\u2029]/g;\n\n/* istanbul ignore next */\nfunction escapeEvalString(str) {\n\t// Based on https://github.com/joliss/js-string-escape\n\treturn str.replace(escapeEvalRegex, function(character) {\n\t\tswitch (character) {\n\t\tcase \"\\\"\":\n\t\tcase \"'\":\n\t\tcase \"\\\\\":\n\t\t\treturn \"\\\\\" + character;\n\t\t\t// Four possible LineTerminator characters need to be escaped:\n\t\tcase \"\\n\":\n\t\t\treturn \"\\\\n\";\n\t\tcase \"\\r\":\n\t\t\treturn \"\\\\r\";\n\t\tcase \"\\u2028\":\n\t\t\treturn \"\\\\u2028\";\n\t\tcase \"\\u2029\":\n\t\t\treturn \"\\\\u2029\";\n\t\t}\n\t});\n}\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages, customValidation }, path, context) {\n\tconst sourceCode = [];\n\n\tsourceCode.push(`\n\t\tif (typeof value !== \"object\" || value === null || Array.isArray(value)) {\n\t\t\t${this.makeError({ type: \"object\",  actual: \"value\", messages })}\n\t\t\treturn value;\n\t\t}\n\t`);\n\n\tconst subSchema = schema.properties || schema.props;\n\tif (subSchema) {\n\t\tsourceCode.push(\"var parentObj = value;\");\n\t\tsourceCode.push(\"var parentField = field;\");\n\n\t\tconst keys = Object.keys(subSchema);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tconst property = keys[i];\n\n\t\t\tconst name = escapeEvalString(property);\n\t\t\tconst safeSubName = identifierRegex.test(name) ? `.${name}` : `['${name}']`;\n\t\t\tconst safePropName = `parentObj${safeSubName}`;\n\t\t\tconst newPath = (path ? path + \".\" : \"\") + property;\n\n\t\t\tsourceCode.push(`\\n// Field: ${escapeEvalString(newPath)}`);\n\t\t\tsourceCode.push(`field = parentField ? parentField + \"${safeSubName}\" : \"${name}\";`);\n\t\t\tsourceCode.push(`value = ${safePropName};`);\n\n\t\t\tconst rule = this.getRuleFromSchema(subSchema[property]);\n\t\t\tsourceCode.push(this.compileRule(rule, context, newPath, `${safePropName} = context.fn[%%INDEX%%](value, field, parentObj, errors, context);`, safePropName));\n\t\t}\n\n\t\t// Strict handler\n\t\tif (schema.strict) {\n\t\t\tconst allowedProps = Object.keys(subSchema);\n\n\t\t\tsourceCode.push(`\n\t\t\t\tfield = parentField;\n\t\t\t\tvar invalidProps = [];\n\t\t\t\tvar props = Object.keys(parentObj);\n\n\t\t\t\tfor (let i = 0; i < props.length; i++) {\n\t\t\t\t\tif (${JSON.stringify(allowedProps)}.indexOf(props[i]) === -1) {\n\t\t\t\t\t\tinvalidProps.push(props[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (invalidProps.length) {\n\t\t\t`);\n\t\t\tif (schema.strict == \"remove\") {\n\t\t\t\tsourceCode.push(`\n\t\t\t\t\tinvalidProps.forEach(function(field) {\n\t\t\t\t\t\tdelete parentObj[field];\n\t\t\t\t\t});\n\t\t\t\t`);\n\t\t\t} else {\n\t\t\t\tsourceCode.push(`\n\t\t\t\t\t${this.makeError({ type: \"objectStrict\", expected: \"\\\"\" + allowedProps.join(\", \") + \"\\\"\", actual: \"invalidProps.join(', ')\", messages })}\n\t\t\t\t`);\n\t\t\t}\n\t\t\tsourceCode.push(`\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\n\t\tsourceCode.push(`\n\t\t\treturn parentObj;\n\t\t`);\n\t} else {\n\t\tsourceCode.push(`\n\t\t\t${customValidation(\"value\")}\n\t\t\treturn value;\n\t\t`);\n\t}\n\n\treturn {\n\t\tsource: sourceCode.join(\"\\n\")\n\t};\n};\n","\"use strict\";\n\nconst NUMERIC_PATTERN = /^-?[0-9]\\d*(\\.\\d+)?$/;\nconst ALPHA_PATTERN = /^[a-zA-Z]+$/;\nconst ALPHANUM_PATTERN = /^[a-zA-Z0-9]+$/;\nconst ALPHADASH_PATTERN = /^[a-zA-Z0-9_-]+$/;\nconst HEX_PATTERN = /^[0-9a-fA-F]+$/;\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function checkString({ schema, messages, customValidation }, path, context) {\n\tconst src = [];\n\tlet sanitized = false;\n\n\tif (schema.convert === true) {\n\t\tsanitized = true;\n\t\tsrc.push(`\n\t\t\tif (typeof value !== \"string\") {\n\t\t\t\tvalue = String(value);\n\t\t\t}\n\t\t`);\n\t}\n\n\tsrc.push(`\n\t\tif (typeof value !== \"string\") {\n\t\t\t${this.makeError({ type: \"string\", actual: \"value\", messages })}\n\t\t\treturn value;\n\t\t}\n\n\t\tvar origValue = value;\n\t`);\n\n\tif (schema.trim) {\n\t\tsanitized = true;\n\t\tsrc.push(`\n\t\t\tvalue = value.trim();\n\t\t`);\n\t}\n\n\tif (schema.trimLeft) {\n\t\tsanitized = true;\n\t\tsrc.push(`\n\t\t\tvalue = value.trimLeft();\n\t\t`);\n\t}\n\n\tif (schema.trimRight) {\n\t\tsanitized = true;\n\t\tsrc.push(`\n\t\t\tvalue = value.trimRight();\n\t\t`);\n\t}\n\n\tif (schema.padStart) {\n\t\tsanitized = true;\n\t\tconst padChar = schema.padChar != null ? schema.padChar : \" \";\n\t\tsrc.push(`\n\t\t\tvalue = value.padStart(${schema.padStart}, ${JSON.stringify(padChar)});\n\t\t`);\n\t}\n\n\tif (schema.padEnd) {\n\t\tsanitized = true;\n\t\tconst padChar = schema.padChar != null ? schema.padChar : \" \";\n\t\tsrc.push(`\n\t\t\tvalue = value.padEnd(${schema.padEnd}, ${JSON.stringify(padChar)});\n\t\t`);\n\t}\n\n\tif (schema.lowercase) {\n\t\tsanitized = true;\n\t\tsrc.push(`\n\t\t\tvalue = value.toLowerCase();\n\t\t`);\n\t}\n\n\tif (schema.uppercase) {\n\t\tsanitized = true;\n\t\tsrc.push(`\n\t\t\tvalue = value.toUpperCase();\n\t\t`);\n\t}\n\n\tif (schema.localeLowercase) {\n\t\tsanitized = true;\n\t\tsrc.push(`\n\t\t\tvalue = value.toLocaleLowerCase();\n\t\t`);\n\t}\n\n\tif (schema.localeUppercase) {\n\t\tsanitized = true;\n\t\tsrc.push(`\n\t\t\tvalue = value.toLocaleUpperCase();\n\t\t`);\n\t}\n\n\tsrc.push(`\n\t\t\tvar len = value.length;\n\t`);\n\n\tif (schema.empty === false) {\n\t\tsrc.push(`\n\t\t\tif (len === 0) {\n\t\t\t\t${this.makeError({ type: \"stringEmpty\",  actual: \"value\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif (schema.min != null) {\n\t\tsrc.push(`\n\t\t\tif (len < ${schema.min}) {\n\t\t\t\t${this.makeError({ type: \"stringMin\", expected: schema.min, actual: \"len\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif (schema.max != null) {\n\t\tsrc.push(`\n\t\t\tif (len > ${schema.max}) {\n\t\t\t\t${this.makeError({ type: \"stringMax\", expected: schema.max, actual: \"len\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif (schema.length != null) {\n\t\tsrc.push(`\n\t\t\tif (len !== ${schema.length}) {\n\t\t\t\t${this.makeError({ type: \"stringLength\", expected: schema.length, actual: \"len\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif (schema.pattern != null) {\n\t\tlet pattern = schema.pattern;\n\t\tif (typeof schema.pattern == \"string\")\n\t\t\tpattern = new RegExp(schema.pattern, schema.patternFlags);\n\n\t\tsrc.push(`\n\t\t\tif (!${pattern.toString()}.test(value))\n\t\t\t\t${this.makeError({ type: \"stringPattern\", expected: \"\\\"\" + pattern.toString().replace('\"', \"\\\\\\\"\") + \"\\\"\", actual: \"origValue\", messages })}\n\t\t`);\n\t}\n\n\tif (schema.contains != null) {\n\t\tsrc.push(`\n\t\t\tif (value.indexOf(\"${schema.contains}\") === -1) {\n\t\t\t\t${this.makeError({ type: \"stringContains\", expected: \"\\\"\" + schema.contains + \"\\\"\", actual: \"origValue\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif (schema.enum != null) {\n\t\tconst enumStr = JSON.stringify(schema.enum);\n\t\tsrc.push(`\n\t\t\tif (${enumStr}.indexOf(value) === -1) {\n\t\t\t\t${this.makeError({ type: \"stringEnum\", expected: \"\\\"\" + schema.enum.join(\", \") + \"\\\"\", actual: \"origValue\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif (schema.numeric === true) {\n\t\tsrc.push(`\n\t\t\tif (!${NUMERIC_PATTERN.toString()}.test(value) ) {\n\t\t\t\t${this.makeError({ type: \"stringNumeric\",  actual: \"origValue\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif(schema.alpha === true) {\n\t\tsrc.push(`\n\t\t\tif(!${ALPHA_PATTERN.toString()}.test(value)) {\n\t\t\t\t${this.makeError({ type: \"stringAlpha\",  actual: \"origValue\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif(schema.alphanum === true) {\n\t\tsrc.push(`\n\t\t\tif(!${ALPHANUM_PATTERN.toString()}.test(value)) {\n\t\t\t\t${this.makeError({ type: \"stringAlphanum\",  actual: \"origValue\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif(schema.alphadash === true) {\n\t\tsrc.push(`\n\t\t\tif(!${ALPHADASH_PATTERN.toString()}.test(value)) {\n\t\t\t\t${this.makeError({ type: \"stringAlphadash\",  actual: \"origValue\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tif(schema.hex === true) {\n\t\tsrc.push(`\n\t\t\tif(value.length % 2 !== 0 || !${HEX_PATTERN.toString()}.test(value)) {\n\t\t\t\t${this.makeError({ type: \"stringHex\",  actual: \"origValue\", messages })}\n\t\t\t}\n\t\t`);\n\t}\n\n\tsrc.push(`\n\t\t${customValidation(\"value\")}\n\t\treturn value;\n\t`);\n\n\treturn {\n\t\tsanitized,\n\t\tsource: src.join(\"\\n\")\n\t};\n};\n","\"use strict\";\n\nconst PATTERN = /^https?:\\/\\/\\S+/;\n//const PATTERN = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i;\n//const PATTERN = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g;\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages, customValidation }, path) {\n\tconst src = [];\n\tsrc.push(`\n\t\tif (typeof value !== \"string\") {\n\t\t\t${this.makeError({ type: \"string\",  actual: \"value\", messages })}\n\t\t\treturn value;\n\t\t}\n\n\t\tif (!${PATTERN.toString()}.test(value)) {\n\t\t\t${this.makeError({ type: \"url\",  actual: \"value\", messages })}\n\t\t}\n\n\t\t${customValidation(\"value\")}\n\n\t\treturn value;\n\t`);\n\n\treturn {\n\t\tsource: src.join(\"\\n\")\n\t};\n};\n","\"use strict\";\n\nconst PATTERN = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages }, path) {\n\tconst src = [];\n\tsrc.push(`\n\t\tif (typeof value !== \"string\") {\n\t\t\t${this.makeError({ type: \"string\",  actual: \"value\", messages })}\n\t\t\treturn value;\n\t\t}\n\n\t\tvar val = value.toLowerCase();\n\t\tif (!${PATTERN.toString()}.test(val)) {\n\t\t\t${this.makeError({ type: \"uuid\",  actual: \"value\", messages })}\n\t\t\treturn value;\n\t\t}\n\n\t\tconst version = val.charAt(14) | 0;\n\t`);\n\n\tif(schema.version) {\n\t\tsrc.push(`\n\t\t\tif (${schema.version} !== version) {\n\t\t\t\t${this.makeError({ type: \"uuidVersion\", expected: schema.version, actual: \"version\", messages })}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t`);\n\t}\n\n\tsrc.push(`\n\t\tswitch (version) {\n\t\tcase 1:\n\t\tcase 2:\n\t\t\tbreak;\n\t\tcase 3:\n\t\tcase 4:\n\t\tcase 5:\n\t\t\tif ([\"8\", \"9\", \"a\", \"b\"].indexOf(value.charAt(19)) === -1) {\n\t\t\t\t${this.makeError({ type: \"uuid\",  actual: \"value\", messages })}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t`);\n\n\treturn {\n\t\tsource: src.join(\"\\n\")\n\t};\n};\n","\"use strict\";\n\nconst PATTERN = /^((([a-f0-9][a-f0-9]+[-]){5}|([a-f0-9][a-f0-9]+[:]){5})([a-f0-9][a-f0-9])$)|(^([a-f0-9][a-f0-9][a-f0-9][a-f0-9]+[.]){2}([a-f0-9][a-f0-9][a-f0-9][a-f0-9]))$/i;\n\n/**\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages, customValidation }, path) {\n\treturn {\n\t\tsource: `\n\t\t\tif (typeof value !== \"string\") {\n\t\t\t\t${this.makeError({ type: \"string\",  actual: \"value\", messages })}\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tvar v = value.toLowerCase();\n\t\t\tif (!${PATTERN.toString()}.test(v)) {\n\t\t\t\t${this.makeError({ type: \"mac\",  actual: \"value\", messages })}\n\t\t\t}\n\t\t\t${customValidation(\"value\")}\n\t\t\treturn value;\n\t\t`\n\t};\n};\n","\"use strict\";\n\n/**\n * Luhn algorithm checksum https://en.wikipedia.org/wiki/Luhn_algorithm\n * Credit Card numbers, IMEI numbers, National Provider Identifier numbers and others\n * @param value\n * @param schema\n * @return {boolean|{actual, expected, type}|ValidationError}\n *\n *\tSignature: function(value, field, parent, errors, context)\n */\nmodule.exports = function({ schema, messages, customValidation }, path) {\n\treturn {\n\t\tsource: `\n\t\t\tif (typeof value !== \"string\") {\n\t\t\t\t${this.makeError({ type: \"string\",  actual: \"value\", messages })}\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif (typeof value !== \"string\")\n\t\t\t\tvalue = String(value);\n\n\t\t\tval = value.replace(/\\\\D+/g, \"\");\n\n\t\t\tvar array = [0, 2, 4, 6, 8, 1, 3, 5, 7, 9];\n\t\t\tvar len = val ? val.length : 0,\n\t\t\t\tbit = 1,\n\t\t\t\tsum = 0;\n\t\t\twhile (len--) {\n\t\t\t\tsum += !(bit ^= 1) ? parseInt(val[len], 10) : array[val[len]];\n\t\t\t}\n\n\t\t\tif (!(sum % 10 === 0 && sum > 0)) {\n\t\t\t\t${this.makeError({ type: \"luhn\",  actual: \"value\", messages })}\n\t\t\t}\n\n\t\t\t${customValidation(\"value\")}\n\n\t\t\treturn value;\n\t\t`\n\t};\n};\n","// globals window\nlet prettier, prettierOpts;\nlet hljs, hljsOpts;\n\nlet mod1 = \"prettier\"; // rollup\nlet mod2 = \"cli-highlight\"; // rollup\n\nmodule.exports = function(source) {\n\tif (!prettier) {\n\t\tprettier = require(mod1);\n\t\tprettierOpts = {\n\t\t\tparser: \"babel\",\n\t\t\tuseTabs: false,\n\t\t\tprintWidth: 120,\n\t\t\ttrailingComma: \"none\",\n\t\t\ttabWidth: 4,\n\t\t\tsingleQuote: false,\n\t\t\tsemi: true,\n\t\t\tbracketSpacing: true\n\t\t};\n\n\t\thljs = require(mod2);\n\t\thljsOpts = {\n\t\t\tlanguage: \"js\",\n\t\t\ttheme: hljs.fromJson({\n\t\t\t\tkeyword: [\"white\", \"bold\"],\n\t\t\t\tbuilt_in: \"magenta\",\n\t\t\t\tliteral: \"cyan\",\n\t\t\t\tnumber: \"magenta\",\n\t\t\t\tregexp: \"red\",\n\t\t\t\tstring: [\"yellow\", \"bold\"],\n\t\t\t\tsymbol: \"plain\",\n\t\t\t\tclass: \"blue\",\n\t\t\t\tattr: \"plain\",\n\t\t\t\tfunction: [\"white\", \"bold\"],\n\t\t\t\ttitle: \"plain\",\n\t\t\t\tparams: \"green\",\n\t\t\t\tcomment: \"grey\"\n\t\t\t})\n\t\t};\n\t}\n\n\tconst res = prettier.format(source, prettierOpts);\n\treturn hljs.highlight(res, hljsOpts);\n};\n","\"use strict\";\n\n//const flatten = require(\"./helpers/flatten\");\nconst deepExtend = require(\"./helpers/deep-extend\");\nconst defaultMessages = require(\"./messages\");\n\nfunction loadRules() {\n\treturn {\n\t\tany: require(\"./rules/any\"),\n\t\tarray: require(\"./rules/array\"),\n\t\tboolean: require(\"./rules/boolean\"),\n\t\tclass: require(\"./rules/class\"),\n\t\tcustom: require(\"./rules/custom\"),\n\t\tdate: require(\"./rules/date\"),\n\t\temail: require(\"./rules/email\"),\n\t\tenum: require(\"./rules/enum\"),\n\t\tequal: require(\"./rules/equal\"),\n\t\tforbidden: require(\"./rules/forbidden\"),\n\t\tfunction: require(\"./rules/function\"),\n\t\tmulti: require(\"./rules/multi\"),\n\t\tnumber: require(\"./rules/number\"),\n\t\tobject: require(\"./rules/object\"),\n\t\tstring: require(\"./rules/string\"),\n\t\turl: require(\"./rules/url\"),\n\t\tuuid: require(\"./rules/uuid\"),\n\t\tmac: require(\"./rules/mac\"),\n\t\tluhn: require(\"./rules/luhn\")\n\t};\n}\n\n/**\n * Fastest Validator\n */\nclass Validator {\n\n\t/**\n\t * Validator class constructor\n\t *\n\t * @param {Object} opts\n\t */\n\tconstructor(opts) {\n\t\tthis.opts = {\n\t\t\tmessages: deepExtend({}, defaultMessages)\n\t\t};\n\t\tthis.defaults = {};\n\n\t\tif (opts) {\n\t\t\tdeepExtend(this.opts, opts);\n\t\t\tif (opts.defaults) deepExtend(this.defaults, opts.defaults);\n\t\t}\n\n\t\tthis.messages = this.opts.messages;\n\n\t\t// Load rules\n\t\tthis.rules = loadRules();\n\t\tthis.aliases = {};\n\t\tthis.cache = new Map();\n\t}\n\n\t/**\n\t * Validate an object by schema\n\t *\n\t * @param {Object} obj\n\t * @param {Object} schema\n\t * @returns {Array<Object>|boolean}\n\t */\n\tvalidate(obj, schema) {\n\t\tconst check = this.compile(schema);\n\t\treturn check(obj);\n\t}\n\n\t/**\n\t * Wrap a source code with `required` & `optional` checker codes.\n\t * @param {Object} rule\n\t * @param {String} innerSrc\n\t * @param {String?} resVar\n\t * @returns {String}\n\t */\n\twrapRequiredCheckSourceCode(rule, innerSrc, resVar) {\n\t\tconst src = [];\n\t\tconst defaultValue = rule.schema.default != null ? JSON.stringify(rule.schema.default) : null;\n\n\t\t// Required, optional, forbidden\n\t\tsrc.push(`\n\t\t\tif (value === undefined || value === null) {\n\t\t`);\n\t\tif (rule.schema.optional === true || rule.schema.type == \"forbidden\") {\n\t\t\t// Optional field\n\t\t\tif (defaultValue != null && resVar) {\n\t\t\t\tsrc.push(`${resVar} = ${defaultValue};`);\n\t\t\t} else {\n\t\t\t\tsrc.push(\"// Do nothing, it's an optional field\");\n\t\t\t}\n\t\t} else {\n\t\t\t// Required field\n\t\t\tif (defaultValue != null && resVar) {\n\t\t\t\tsrc.push(`${resVar} = ${defaultValue};`);\n\t\t\t} else {\n\t\t\t\tsrc.push(this.makeError({ type: \"required\", actual: \"value\", messages: rule.messages }));\n\t\t\t}\n\t\t}\n\t\tsrc.push(\"} else {\");\n\n\t\tif (innerSrc)\n\t\t\tsrc.push(innerSrc);\n\n\t\tsrc.push(\"\\t\\t}\"); // Required, optional\n\n\t\treturn src.join(\"\\n\");\n\t}\n\n\t/**\n\t * Compile a schema\n\t *\n\t * @param {Object} schema\n\t * @throws {Error} Invalid schema\n\t * @returns {Function}\n\t */\n\tcompile(schema) {\n\t\tif (schema === null || typeof schema !== \"object\") {\n\t\t\tthrow new Error(\"Invalid schema.\");\n\t\t}\n\n\t\tconst self = this;\n\t\tconst context = {\n\t\t\tindex: 0,\n\t\t\trules: [],\n\t\t\tfn: [],\n\t\t\tcustoms: {}\n\t\t};\n\t\tthis.cache.clear();\n\n\t\tif (schema.$$root !== true) {\n\t\t\tif (Array.isArray(schema)) {\n\t\t\t\tconst rule = this.getRuleFromSchema(schema);\n\t\t\t\tschema = rule.schema;\n\t\t\t} else {\n\t\t\t\tconst prevSchema = Object.assign({}, schema);\n\t\t\t\tschema = {\n\t\t\t\t\ttype: \"object\",\n\t\t\t\t\tstrict: prevSchema.$$strict,\n\t\t\t\t\tproperties: prevSchema\n\t\t\t\t};\n\n\t\t\t\tdelete prevSchema.$$strict;\n\t\t\t}\n\t\t}\n\n\t\tconst sourceCode = [\n\t\t\t\"var errors = [];\",\n\t\t\t\"var field;\",\n\t\t];\n\n\t\tconst rule = this.getRuleFromSchema(schema);\n\t\tsourceCode.push(this.compileRule(rule, context, null, \"context.fn[%%INDEX%%](value, field, null, errors, context);\", \"value\"));\n\n\t\tsourceCode.push(\"if (errors.length) {\");\n\t\tsourceCode.push(`\n\t\t\treturn errors.map(err => {\n\t\t\t\tif (err.message)\n\t\t\t\t\terr.message = err.message\n\t\t\t\t\t\t.replace(/\\\\{field\\\\}/g, err.field || \"\")\n\t\t\t\t\t\t.replace(/\\\\{expected\\\\}/g, err.expected != null ? err.expected : \"\")\n\t\t\t\t\t\t.replace(/\\\\{actual\\\\}/g, err.actual != null ? err.actual : \"\");\n\n\t\t\t\treturn err;\n\t\t\t});\n\t\t`);\n\n\t\tsourceCode.push(\"}\");\n\t\tsourceCode.push(\"return true;\");\n\n\t\tconst src = sourceCode.join(\"\\n\");\n\n\t\tconst checkFn = new Function(\"value\", \"context\", src);\n\n\t\t/* istanbul ignore next */\n\t\tif (this.opts.debug) {\n\t\t\tlet formatter = function(code) { return code; };\n\t\t\tif (typeof window === \"undefined\") // eslint-disable-line no-undef\n\t\t\t\tformatter = require(\"./helpers/prettier\");\n\n\t\t\tcontext.fn.forEach((fn, i) => console.log(formatter(`// Context.fn[${i}]\\n` + fn.toString()))); // eslint-disable-line no-console\n\t\t\tconsole.log(formatter(\"// Main check function\\n\" + checkFn.toString())); // eslint-disable-line no-console\n\t\t}\n\n\t\tthis.cache.clear();\n\n\t\treturn function(data) {\n\t\t\tcontext.data = data;\n\t\t\treturn checkFn.call(self, data, context);\n\t\t};\n\t}\n\n\t/**\n\t * Compile a rule to source code.\n\t * @param {Object} rule\n\t * @param {Object} context\n\t * @param {String} path\n\t * @param {String} innerSrc\n\t * @param {String} resVar\n\t * @returns {String}\n\t */\n\tcompileRule(rule, context, path, innerSrc, resVar) {\n\t\tconst sourceCode = [];\n\n\t\tconst item = this.cache.get(rule.schema);\n\t\tif (item) {\n\t\t\t// Handle cyclic schema\n\t\t\trule = item;\n\t\t\trule.cycle = true;\n\t\t\trule.cycleStack = [];\n\t\t\tsourceCode.push(this.wrapRequiredCheckSourceCode(rule, `\n\t\t\t\tvar rule = context.rules[${rule.index}];\n\t\t\t\tif (rule.cycleStack.indexOf(value) === -1) {\n\t\t\t\t\trule.cycleStack.push(value);\n\t\t\t\t\t${innerSrc.replace(\"%%INDEX%%\", rule.index)}\n\t\t\t\t\trule.cycleStack.pop(value);\n\t\t\t\t}\n\t\t\t`, resVar));\n\n\t\t} else {\n\t\t\tthis.cache.set(rule.schema, rule);\n\t\t\trule.index = context.index;\n\t\t\tcontext.rules[context.index] = rule;\n\t\t\tif (typeof rule.schema.custom === \"function\") {\n\t\t\t\tcontext.customs[path] = { schema: rule.schema, messages: rule.messages };\n\t\t\t\trule.customValidation = value => `\n\t\t\t\t\tconst rule = context.customs[\"${path}\"];\n\t\t\t\t\tconst res = rule.schema.custom.call(this, ${value}, rule.schema, \"${path}\", parent, context);\n\t\t\t\t\tif (Array.isArray(res)) {\n\t\t\t\t\t\tres.forEach(err => errors.push(Object.assign({ message: rule.messages[err.type], field }, err)));\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\t}\n\n\t\t\tcontext.index++;\n\t\t\tconst res = rule.ruleFunction.call(this, rule, path, context);\n\t\t\tif (res.source) {\n\t\t\t\tconst fn = new Function(\"value\", \"field\", \"parent\", \"errors\", \"context\", res.source);\n\t\t\t\tcontext.fn[rule.index] = fn;\n\t\t\t\tsourceCode.push(this.wrapRequiredCheckSourceCode(rule, innerSrc.replace(\"%%INDEX%%\", rule.index), resVar));\n\t\t\t} else {\n\t\t\t\tsourceCode.push(this.wrapRequiredCheckSourceCode(rule));\n\t\t\t}\n\t\t}\n\n\t\treturn sourceCode.join(\"\\n\");\n\t}\n\n\t/**\n\t * Create a rule instance from schema definition.\n\t * @param {Object} schema\n\t * @returns {Object} rule\n\t */\n\tgetRuleFromSchema(schema) {\n\t\tif (typeof schema === \"string\") {\n\t\t\tconst str = schema;\n\t\t\tconst p = str.split(\"|\").map(s => s.trim());\n\t\t\tschema = {\n\t\t\t\ttype: p[0]\n\t\t\t};\n\t\t\tp.slice(1).map(s => {\n\t\t\t\tconst idx = s.indexOf(\":\");\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tconst key = s.substr(0, idx).trim();\n\t\t\t\t\tlet value = s.substr(idx + 1).trim();\n\t\t\t\t\tif (value === \"true\" || value === \"false\")\n\t\t\t\t\t\tvalue = value === \"true\";\n\t\t\t\t\telse if (!Number.isNaN(Number(value))) {\n\t\t\t\t\t\tvalue = Number(value);\n\t\t\t\t\t}\n\t\t\t\t\tschema[key] = value;\n\t\t\t\t} else {\n\t\t\t\t\t// boolean value\n\t\t\t\t\tif (s.startsWith(\"no-\"))\n\t\t\t\t\t\tschema[s.slice(3)] = false;\n\t\t\t\t\telse\n\t\t\t\t\t\tschema[s] = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t} else if (Array.isArray(schema)) {\n\t\t\tif (schema.length == 0)\n\t\t\t\tthrow new Error(\"Invalid schema.\");\n\n\t\t\tschema = {\n\t\t\t\ttype: \"multi\",\n\t\t\t\trules: schema\n\t\t\t};\n\n\t\t\t// Check 'optional' flag\n\t\t\tconst isOptional = schema.rules\n\t\t\t\t.map(s => this.getRuleFromSchema(s))\n\t\t\t\t.every(rule => rule.schema.optional == true);\n\t\t\tif (isOptional)\n\t\t\t\tschema.optional = true;\n\t\t}\n\n\t\tconst alias = this.aliases[schema.type];\n\t\tif (alias) {\n\t\t\tdelete schema.type;\n\t\t\tschema = deepExtend(schema, alias, { skipIfExist: true });\n\t\t}\n\n\t\tconst ruleFunction = this.rules[schema.type];\n\t\tif (!ruleFunction)\n\t\t\tthrow new Error(\"Invalid '\" + schema.type + \"' type in validator schema.\");\n\n\t\tconst rule = {\n\t\t\tmessages: Object.assign({}, this.messages, schema.messages),\n\t\t\tschema: deepExtend(schema, this.defaults[schema.type], { skipIfExist: true }),\n\t\t\truleFunction: ruleFunction,\n\t\t\tcustomValidation: () => \"\"\n\t\t};\n\n\t\treturn rule;\n\t}\n\n\t/**\n\t * Generate error source code.\n\t * @param {Object} opts\n\t * @param {String} opts.type\n\t * @param {String} opts.field\n\t * @param {any} opts.expected\n\t * @param {any} opts.actual\n\t * @param {Object} opts.messages\n\t */\n\tmakeError({ type, field, expected, actual, messages }) {\n\t\tconst o = {\n\t\t\ttype: `\"${type}\"`,\n\t\t\tmessage: `\"${messages[type]}\"`,\n\t\t};\n\t\tif (field) o.field = `\"${field}\"`;\n\t\telse o.field = \"field\";\n\t\tif (expected) o.expected = expected;\n\t\tif (actual) o.actual = actual;\n\n\t\tconst s = Object.keys(o)\n\t\t\t.map(key => `${key}: ${o[key]}`)\n\t\t\t.join(\", \");\n\n\t\treturn `errors.push({ ${s} });`;\n\t}\n\n\t/**\n\t * Add a custom rule\n\t *\n\t * @param {String} type\n\t * @param {Function} fn\n\t */\n\tadd(type, fn) {\n\t\tthis.rules[type] = fn;\n\t}\n\n\t/**\n\t * create alias name for a rule\n\t *\n\t * @param {String} name\n\t * @param validationRule\n\t */\n\talias(name, validationRule) {\n\t\tif (this.rules[name]) throw new Error(\"Alias name must not be a rule name\");\n\t\tthis.aliases[name] = validationRule;\n\t}\n}\n\nmodule.exports = Validator;\n","module.exports = require(\"./lib/validator.js\");"],"names":["let","const","padChar","PATTERN","require","require$$0","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","require$$15","require$$16","require$$17","require$$18","deepExtend","defaultMessages","rule","require$$19","this"],"mappings":"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"}